{% extends "layout.html" %}
{% block title %}Editar Mascota{% endblock %}
{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="card">
        <h1 class="text-2xl font-bold mb-6 text-gray-800">Editando Mascota: {{ mascota.nombre }}</h1>
        <form action="{{ url_for('editar_mascota', id=mascota.Idmascota) }}" method="POST" class="space-y-4">
            <div>
                <label for="codigo" class="block text-sm font-medium text-gray-700">Código/Chip*</label>
                <input type="text" name="codigo" id="codigo" required value="{{ mascota.codigo }}" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
            </div>
            <div>
                <label for="nombre" class="block text-sm font-medium text-gray-700">Nombre de la Mascota*</label>
                <input type="text" name="nombre" id="nombre" required value="{{ mascota.nombre }}" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
            </div>
            <div>
                <label for="idduenio" class="block text-sm font-medium text-gray-700">Dueño*</label>
                <select name="idduenio" id="idduenio" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    {% for duenio in duenios %}
                    <option value="{{ duenio.Idpersona }}" {% if duenio.Idpersona == mascota.idduenio %}selected{% endif %}>
                        {{ duenio.nom1 }} {{ duenio.apell1 }}
                    </option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <label for="idraza" class="block text-sm font-medium text-gray-700">Raza*</label>
                <select name="idraza" id="idraza" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    {% for raza in razas %}
                    <option value="{{ raza.Idraza }}" {% if raza.Idraza == mascota.idraza %}selected{% endif %}>
                        {{ raza.nombre }}
                    </option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <label for="fecha_nac" class="block text-sm font-medium text-gray-700">Fecha de Nacimiento</label>
                <input type="date" name="fecha_nac" id="fecha_nac" value="{{ mascota.fecha_nac.strftime('%Y-%m-%d') if mascota.fecha_nac else '' }}" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
            </div>
            <div>
                <label for="caracteristicas" class="block text-sm font-medium text-gray-700">Características</label>
                <textarea name="caracteristicas" id="caracteristicas" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">{{ mascota.caracteristicas or '' }}</textarea>
            </div>
            <div class="flex justify-end space-x-4 pt-4">
                <a href="{{ url_for('gestion_mascotas') }}" class="btn btn-secondary">Cancelar</a>
                <button type="submit" class="btn btn-primary">Guardar Cambios</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}