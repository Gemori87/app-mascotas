{% extends "layout.html" %}
{% block title %}Perfil de {{ mascota.nombre }}{% endblock %}
{% block content %}
<div class="max-w-6xl mx-auto">
    <!-- Encabezado del Perfil -->
    <div class="card mb-6">
        <div class="flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-6">
            <!-- Foto de la Mascota -->
            <img src="{{ url_for('static', filename='uploads/' + mascota.foto) if mascota.foto else url_for('static', filename='media/doc2.jpeg') }}" 
                 alt="Foto de {{ mascota.nombre }}" 
                 class="w-32 h-32 rounded-full object-cover bg-gray-200 border-4 border-white shadow-lg">
            <div class="text-center md:text-left">
                <h1 class="text-4xl font-bold text-gray-800">{{ mascota.nombre }}</h1>
                <p class="text-xl text-gray-600">{{ mascota.raza_nombre }}</p>
                <!-- Edad Calculada -->
                <p class="text-lg text-gray-500 mt-1">{{ edad }}</p>
            </div>
        </div>
    </div>

    <!-- Pestañas de Información -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <!-- Columna de Datos Básicos -->
        <div class="md:col-span-1">
            <div class="card">
                <h2 class="text-xl font-bold mb-4">Información del Paciente</h2>
                <div class="space-y-3">
                    <div>
                        <h3 class="text-sm font-medium text-gray-500">Código / Chip</h3>
                        <p class="text-lg text-gray-900">{{ mascota.codigo }}</p>
                    </div>
                    <div>
                        <h3 class="text-sm font-medium text-gray-500">Fecha de Nacimiento</h3>
                        <p class="text-lg text-gray-900">{{ mascota.fecha_nac.strftime('%d de %B de %Y') if mascota.fecha_nac else 'No registrada' }}</p>
                    </div>
                    <div>
                        <h3 class="text-sm font-medium text-gray-500">Dueño</h3>
                        <p class="text-lg text-gray-900">{{ mascota.duenio_nombre }}</p>
                    </div>
                    <div>
                        <h3 class="text-sm font-medium text-gray-500">Características</h3>
                        <p class="text-lg text-gray-900">{{ mascota.caracteristicas or 'Ninguna' }}</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Columna de Historiales -->
        <div class="md:col-span-2">
            <div class="card">
                <h2 class="text-xl font-bold mb-4">Historial Clínico</h2>
                <div class="border-t border-gray-200 pt-4">
                    <h3 class="text-lg font-semibold text-gray-700 mb-2">Historial de Procedimientos</h3>
                    <p class="text-gray-600">(Funcionalidad en desarrollo)</p>
                </div>
                <div class="border-t border-gray-200 pt-4 mt-4">
                    <h3 class="text-lg font-semibold text-gray-700 mb-2">Historial de Enfermedades</h3>
                    <p class="text-gray-600">(Funcionalidad en desarrollo)</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}